{% extends 'base.html' %}

{% load static %}

{% block css_variables %}
	<link rel="stylesheet" type="text/css" href="{% static '/css/Inventarios/main_inventarios.css' %}">

	<!-- CSS de los selectpickers-->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">

{% endblock %}

{% block content %}
	<div class="row">
		<div class="col-xl-12">
		  <div class="card shadow mb-4">
		    <div class="card-header py-3">
		      <h3 class="m-0 font-weight-bold text-primary">Inventarios</h3>
		    </div>
		    <div class="card-body">
		    	

					<!-- Panel de filtrado -->
					<div class="row">
						<div class="col-xl-12 text-center">
							<span class="h4 text-dark">Panel de Filtrado</span>
						</div>
					</div>
					<hr>
					<div class="row">
						<div class="col-xl-12">
							<form method="GET" id="filtros">
								<div class="row">
									<div class="col-xl-6">
										<div class="form-group">
									    <label class="h6">Categorías</label>
									    {{ filtros.form.category }}
									  </div>
									</div>
									<div class="col-xl-6">
										<div class="form-group">
									    <label class="h6">Unidades de Medida</label>
									    {{ filtros.form.unit_measurement }}
									  </div>
									</div>
								</div>
								<div class="row">
									<div class="col-xl-6">
										<div class="form-group">
									  	<label class="h6">Kilatajes</label>
									    {{ filtros.form.kilate }}
									  </div>
									</div>
									<div class="col-xl-6">
										<div class="form-group">
									    <label class="h6">Proveedores</label>
									    {{ filtros.form.vendor }}
									  </div>
									</div>
								</div>
								<div class="row justify-content-center">
									<div class="col-xl-6">
										<div class="form-group">
									    <label class="h6">Código de Barras</label>
									    {{ filtros.form.barcode }}
									  </div>
									</div>
								</div>
								<div class="row justify-content-center">
									<div class="col-xl-6">
										<input type="submit" class="btn btn-outline-warning" value="Buscar">
									</div>
								</div>			
							</form>
						</div>
					</div>
					<hr>

					<div class="row">
						<div class="col-xl-12">
							<div class="table-responsive">
								<table class="table table-striped" id="tablaInventarios">
									<thead class="thead-dark">
										<tr>
											<th>Categoría</th>
											<th>Cantidad</th>
											<th>Unidad de Medida</th>
											<th>Kilataje</th>
											<th>Proveedor</th>
											<th>Código de Barras</th>
											<th></th>									
										</tr>
									</thead>
									<tbody>
										{% for product in products %}
											<tr>
												<td>{{ product.category }}</td>
												<td>{{ product.quantity }}</td>
												<td>{{ product.unit_measurement }}</td>
												<td>{{ product.kilate }}</td>
												<td>{{ product.vendor }}</td>
												<td>{{ product.barcode }}</td>
												<td><input type="button" class="btn btn-outline-success" value="Editar"></td>
											</tr>
										{% endfor %}
									</tbody>
								</table>
							</div>
						</div>
					</div>

					<br>
					<div class="row justify-content-center">
						<div class="col-xl-4 col-md-6 mb-4">
				      <div class="card border-left-success shadow h-100 py-2">
				        <div class="card-body">
				          <div class="row no-gutters align-items-center">
				            <div class="col mr-2">
				              <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">Piezas Totales</div>
				              <div class="h5 mb-0 font-weight-bold text-gray-800">{{ piezas_totales.resultado_suma }}</div>
				            </div>
				            <div class="col-auto">
				            	<i class="far fa-gem fa-2x text-gray-300"></i>
				            </div>
				          </div>
				        </div>
				      </div>
				    </div>
				    <div class="col-xl-4 col-md-6 mb-4">
				      <div class="card border-left-warning shadow h-100 py-2">
				        <div class="card-body">
				          <div class="row no-gutters align-items-center">
				            <div class="col mr-2">
				              <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">Gramos Totales (gr)</div>
				              <div class="h5 mb-0 font-weight-bold text-gray-800">{{ gramos_totales.resultado_suma }}</div>
				            </div>
				            <div class="col-auto">
				            	<i class="fas fa-balance-scale fa-2x text-gray-300"></i>
				            </div>
				          </div>
				        </div>
				      </div>
				    </div>
					</div>
					<div class="row justify-content-center">
						<div class="col-xl-8">
							<input type="button" class="btn btn-primary" id="add-item" name="add-item" value="Agregar producto">
						<!--   <a href="#" class="btn btn-primary btn-icon-split" id="add-item" style="width: 100%;">
                <span class="text">Agregar nuevo producto</span>
              </a> -->
						</div>
					</div>

		    </div>
		  </div>
		</div>
	</div>
{% endblock %}

{% block scripts_variables %}
	<script type="text/javascript" src="{% static '/js/inventarios/main_inventarios.js' %}"></script>

	<!-- Javascript de los selectpickers -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js"></script>
{% endblock %}